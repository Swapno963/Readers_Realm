{% extends "base.html" %} {% load static %} {% block body %} {% if page_obj %}
<div class="container mx-auto px-5 py-12">
  <h2 class="text-3xl font-bold mb-8 text-center">Categories</h2>
  <div class="flex flex-wrap justify-center gap-4">
    <a
      href="{% url 'category_wise_book' None %}"
      class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded"
      >Show All</a
    >
    {% for category in category_list %}
    <a
      href="{% url 'category_wise_book' category.slug %}"
      class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded"
      >{{ category }}</a
    >
    {% endfor %}
  </div>
</div>
<h1 class="text-4xl text-center">ALL BOOKS</h1>
{% endif %}
<div class="grid-cols-2 gap-8  pt-5 flex  justify-center text-center">
  {% if page_obj %} 
  
  {% for book in page_obj %}
  <div 
    class="rounded-lg bg-gray-200 overflow-hidden shadow-md mt-4"
  >
    <img
    style="width:184px"
      src="{{ book.img.url }}"
      alt="Book Cover"
      class="w-full h-64 object-cover p-2"
    />
    <div class="p-4">
      <a  href="{% url 'book_detail' book.id %}">

        <h3 class="text-lg font-semibold mb-2">{{ book.title }}</h3>

      </a>

      <p class="text-gray-600 mb-2">Author: {{ book.author }}</p>
      <p class="text-gray-600 mb-2">Price: {{ book.borrow_price }}</p>
      <p class="text-gray-600 mb-4">Category: {{ book.category }}</p>
      {% if request.user.is_authenticated %}
      <a
        href="{% url 'borrow_book' book.id %}"
        class="inline-block bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded"
        >Borrow Now</a
      >
      {% endif %}
    </div>
  </div>
  {% endfor %} {% else %}
  <div class="py-12 my-12">
    <div class="bg-white rounded-lg p-8">
      <p class="text-2xl text-center col-span-3">There is no Books.</p>
    </div>
  </div>

  {% endif %}
</div>
{% comment %} pagenation {% endcomment %}
<div class="flex items-center justify-center space-x-4 my-8">
  {% if page_obj.has_previous %}
      <a href="?page={{ page_obj.previous_page_number }}" class="px-3 py-1 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300">Previous</a>
  {% endif %}
  
  {% for page in page_obj.paginator.page_range %}
      {% if page == page_obj.number %}
          <span class="px-3 py-1 bg-blue-500 text-white rounded-md">{{ page }}</span>
      {% else %}
          <a href="?page={{ page }}" class="px-3 py-1 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300">{{ page }}</a>
      {% endif %}
  {% endfor %}
  
  {% if page_obj.has_next %}
      <a href="?page={{ page_obj.next_page_number }}" class="px-3 py-1 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300">Next</a>
  {% endif %}
</div>

{% comment %} pagenation {% endcomment %}

{% endblock %}
